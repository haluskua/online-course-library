{"version":3,"sources":["js/beats.js"],"names":["DrumKit","pads","document","querySelectorAll","playBtn","querySelector","currentKick","currentSnare","currentHihat","kickAudio","snareAudio","hihatAudio","index","bpm","isPlaying","selects","muteBtns","tempoSlider","classList","toggle","step","activeBars","forEach","bar","style","animation","contains","currentTime","play","interval","setInterval","repeat","clearInterval","innerText","add","remove","e","selectionName","target","name","selectionValue","value","src","muteIndex","getAttribute","volume","tempoText","start","drumKit","pad","addEventListener","activePad","updateBtn","select","changeSound","btn","mute","changeTempo","updateTempo"],"mappings":"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","file":"beats.7b59bb28.js","sourceRoot":"..\\src","sourcesContent":["class DrumKit {\r\n  constructor() {\r\n    this.pads = document.querySelectorAll(\".pad\");\r\n    this.playBtn = document.querySelector(\".play\");\r\n    this.currentKick = \"../src/allSounds/kick-classic-wav\";\r\n    this.currentSnare = \"../src/allSounds/snare-acoustic01-wav\";\r\n    this.currentHihat = \"../src/allSounds/hihat.acoustic01-wav\";\r\n    this.kickAudio = document.querySelector(\".kick-sound\");\r\n    this.snareAudio = document.querySelector(\".snare-sound\");\r\n    this.hihatAudio = document.querySelector(\".hihat-sound\");\r\n    this.index = 0;\r\n    this.bpm = 150;\r\n    this.isPlaying = null;\r\n    this.selects = document.querySelectorAll(\"select\");\r\n    this.muteBtns = document.querySelectorAll(\".mute\");\r\n    this.tempoSlider = document.querySelector('.tempo-slider');\r\n  }\r\n  activePad() {\r\n    this.classList.toggle(\"active\");\r\n  }\r\n  \r\n  repeat() {\r\n    let step = this.index % 8;\r\n    const activeBars = document.querySelectorAll(`.b${step}`);\r\n    //Loop over the pads\r\n    activeBars.forEach((bar) => {\r\n      bar.style.animation = `playTrack 0.3s alternate ease-in-out 2`;\r\n      if (bar.classList.contains(\"active\")) {\r\n        if (bar.classList.contains(\"kick-pad\")) {\r\n          this.kickAudio.currentTime = 0;\r\n          this.kickAudio.play();\r\n        }\r\n        if (bar.classList.contains(\"snare-pad\")) {\r\n          this.snareAudio.currentTime = 0;\r\n          this.snareAudio.play();\r\n        }\r\n        if (bar.classList.contains(\"hihat-pad\")) {\r\n          this.hihatAudio.currentTime = 0;\r\n          this.hihatAudio.play();\r\n        }\r\n      }\r\n    });\r\n    this.index++;\r\n  }\r\n  start() {\r\n    //loops over function\r\n    const interval = (60 / this.bpm) * 1000;\r\n    //check if loop is playing\r\n    if (!this.isPlaying) {\r\n      this.isPlaying = setInterval(() => {\r\n        this.repeat();\r\n      }, interval);\r\n    } else {\r\n      //Clear the interval\r\n      clearInterval(this.isPlaying);\r\n      this.isPlaying = null;\r\n    }\r\n  }\r\n  updateBtn() {\r\n    //NULL\r\n    if (!this.isPlaying) {\r\n      this.playBtn.innerText = \"Stop\";\r\n      this.playBtn.classList.add(\"active\");\r\n    } else {\r\n      this.playBtn.innerText = \"Play\";\r\n      this.playBtn.classList.remove(\"active\");\r\n    }\r\n  }\r\n  changeSound(e) {\r\n    const selectionName = e.target.name;\r\n    const selectionValue = e.target.value;\r\n    switch (selectionName) {\r\n      case \"kick-select\":\r\n        this.kickAudio.src = selectionValue;\r\n        break;\r\n      case \"snare-select\":\r\n        this.snareAudio.src = selectionValue;\r\n        break;\r\n      case \"hihat-select\":\r\n        this.hihatAudio.src = selectionValue;\r\n        break;\r\n    }\r\n  }\r\n  mute(e){\r\n    // console.log(e)\r\n    const muteIndex = e.target.getAttribute('data-track');\r\n    e.target.classList.toggle(\"active\")\r\n    this.kickAudio.volume = 0;\r\n    if(e.target.classList.contains('active')){\r\n      switch(muteIndex){\r\n        case \"0\":\r\n          this.kickAudio.volume = 0;\r\n          break;\r\n        case \"1\":\r\n          this.snareAudio.volume = 0;\r\n          break;\r\n        case \"2\":\r\n          this.hihatAudio.volume = 0;\r\n          break;\r\n      }\r\n    }else{\r\n      switch(muteIndex){\r\n        case \"0\":\r\n          this.kickAudio.volume = 1;\r\n          break;\r\n        case \"1\":\r\n          this.snareAudio.volume = 1;\r\n          break;\r\n        case \"2\":\r\n          this.hihatAudio.volume = 1;\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  changeTempo(e){\r\n    const tempoText = document.querySelector('.tempo-nr');\r\n    this.bpm = e.target.value;\r\n    tempoText.innerText = e.target.value;\r\n  }\r\n\r\n  updateTempo(){\r\n    clearInterval(this.isPlaying);\r\n    this.isPlaying = null;\r\n    const playBtn = document.querySelector('.play');\r\n      if (playBtn.classList.contains('active')) {\r\n        this.start();\r\n      }\r\n  }\r\n}\r\n\r\nconst drumKit = new DrumKit();\r\n\r\n// Event Listeners\r\n\r\ndrumKit.pads.forEach((pad) => {\r\n  pad.addEventListener(\"click\", drumKit.activePad);\r\n  pad.addEventListener(\"animationend\", function () {\r\n    this.style.animation = \"\";\r\n  });\r\n});\r\n\r\ndrumKit.playBtn.addEventListener(\"click\", function () {\r\n  drumKit.updateBtn();\r\n  drumKit.start();\r\n});\r\n\r\ndrumKit.selects.forEach((select) => {\r\n  select.addEventListener(\"change\", function(e) {\r\n    drumKit.changeSound(e);\r\n  });\r\n});\r\n\r\ndrumKit.muteBtns.forEach(btn => {\r\n  btn.addEventListener(\"click\", function(e){\r\n    drumKit.mute(e);\r\n  });\r\n});\r\n\r\ndrumKit.tempoSlider.addEventListener('input', function(e){\r\n  drumKit.changeTempo(e);\r\n});\r\ndrumKit.tempoSlider.addEventListener('change', function(e){\r\n  drumKit.updateTempo(e);\r\n});"]}