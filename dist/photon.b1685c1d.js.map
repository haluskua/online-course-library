{"version":3,"sources":["js/photon.js"],"names":["auth","gallery","document","querySelector","searchInput","form","more","page","searchValue","fetchLink","currentSearch","addEventListener","updateInput","e","preventDefault","searchPhotos","loadMore","target","value","fetchApi","url","fetch","method","headers","Accept","Authorization","dataFetch","json","data","generatePictures","photos","forEach","photo","galleryImg","createElement","classList","add","innerHTML","src","large","photographer","original","appendChild","curatedPhotos","query","clear"],"mappings":";;;;AAAA;AAEA,IAAMA,IAAI,GAAG,0DAAb;AACA,IAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAhB;AACA,IAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAApB;AACA,IAAME,IAAI,GAAGH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAb;AACA,IAAMG,IAAI,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb,EAEA;;AACA,IAAII,IAAI,GAAG,CAAX;AACA,IAAIC,WAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,aAAJ,EAEA;;AACAN,WAAW,CAACO,gBAAZ,CAA6B,OAA7B,EAAsCC,WAAtC;AACAP,IAAI,CAACM,gBAAL,CAAsB,QAAtB,EAAgC,UAACE,CAAD,EAAO;AACrCA,EAAAA,CAAC,CAACC,cAAF;AACAJ,EAAAA,aAAa,GAAGF,WAAhB;AACAO,EAAAA,YAAY,CAACP,WAAD,CAAZ;AACD,CAJD;AAMAF,IAAI,CAACK,gBAAL,CAAsB,OAAtB,EAA+BK,QAA/B;;AAEA,SAASJ,WAAT,CAAqBC,CAArB,EAAwB;AACtB;AACAL,EAAAA,WAAW,GAAGK,CAAC,CAACI,MAAF,CAASC,KAAvB;AACD;;SAEcC;;;;;sEAAf,iBAAwBC,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC0BC,KAAK,CAACD,GAAD,EAAM;AACjCE,cAAAA,MAAM,EAAE,KADyB;AAEjCC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,MAAM,EAAE,kBADD;AAEPC,gBAAAA,aAAa,EAAEzB;AAFR;AAFwB,aAAN,CAD/B;;AAAA;AACQ0B,YAAAA,SADR;AAAA;AAAA,mBAQqBA,SAAS,CAACC,IAAV,EARrB;;AAAA;AAQQC,YAAAA,IARR;AAAA,6CASSA,IATT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAYA,SAASC,gBAAT,CAA0BD,IAA1B,EAAgC;AAC9BA,EAAAA,IAAI,CAACE,MAAL,CAAYC,OAAZ,CAAoB,UAACC,KAAD,EAAW;AAC7B,QAAMC,UAAU,GAAG/B,QAAQ,CAACgC,aAAT,CAAuB,KAAvB,CAAnB;AACAD,IAAAA,UAAU,CAACE,SAAX,CAAqBC,GAArB,CAAyB,aAAzB;AACAH,IAAAA,UAAU,CAACI,SAAX,sBAAmCL,KAAK,CAACM,GAAN,CAAUC,KAA7C,uEAESP,KAAK,CAACQ,YAFf,mCAGcR,KAAK,CAACM,GAAN,CAAUG,QAHxB;AAMAxC,IAAAA,OAAO,CAACyC,WAAR,CAAoBT,UAApB;AACD,GAVD;AAWD,EAED;;;SACeU;;;;;2EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACIlC,YAAAA,SAAS,GAAG,qDAAZ;AADJ;AAAA,mBAEqBU,QAAQ,CAACV,SAAD,CAF7B;;AAAA;AAEQmB,YAAAA,IAFR;AAGEC,YAAAA,gBAAgB,CAACD,IAAD,CAAhB;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;SAMeb;;EAOf;;;;0EAPA,kBAA4B6B,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AACIC,YAAAA,KAAK;AACLpC,YAAAA,SAAS,oDAA6CmC,KAA7C,6BAAT;AAFJ;AAAA,mBAGqBzB,QAAQ,CAACV,SAAD,CAH7B;;AAAA;AAGQmB,YAAAA,IAHR;AAIEC,YAAAA,gBAAgB,CAACD,IAAD,CAAhB;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAQA,SAASiB,KAAT,GAAiB;AACb5C,EAAAA,OAAO,CAACoC,SAAR,GAAoB,EAApB;AACAjC,EAAAA,WAAW,CAACc,KAAZ,GAAmB,EAAnB;AACH;;SAGcF;;;;;sEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACIT,YAAAA,IAAI;;AACJ,gBAAGG,aAAH,EAAiB;AACbD,cAAAA,SAAS,oDAA6CC,aAA7C,oCAAoFH,IAApF,CAAT;AACH,aAFD,MAEK;AACDE,cAAAA,SAAS,+DAAwDF,IAAxD,CAAT;AACH;;AANL;AAAA,mBAOuBY,QAAQ,CAACV,SAAD,CAP/B;;AAAA;AAOUmB,YAAAA,IAPV;AAQIC,YAAAA,gBAAgB,CAACD,IAAD,CAAhB;;AARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAWAe,aAAa","file":"photon.b1685c1d.js","sourceRoot":"..\\src","sourcesContent":["// // 563492ad6f91700001000001b812ffb7e89f43448454ef0c6e746aa9\r\n\r\nconst auth = \"563492ad6f91700001000001b812ffb7e89f43448454ef0c6e746aa9\";\r\nconst gallery = document.querySelector(\".gallery\");\r\nconst searchInput = document.querySelector(\".search-input\");\r\nconst form = document.querySelector(\".search-form\");\r\nconst more = document.querySelector(\".more\");\r\n\r\n//search value variable:\r\nlet page = 1;\r\nlet searchValue;\r\nlet fetchLink;\r\nlet currentSearch;\r\n\r\n//EventListener\r\nsearchInput.addEventListener(\"input\", updateInput);\r\nform.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  currentSearch = searchValue;\r\n  searchPhotos(searchValue);\r\n});\r\n\r\nmore.addEventListener('click', loadMore);\r\n\r\nfunction updateInput(e) {\r\n  //   console.log(e.target.value);\r\n  searchValue = e.target.value;\r\n}\r\n\r\nasync function fetchApi(url) {\r\n  const dataFetch = await fetch(url, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: auth,\r\n    },\r\n  });\r\n  const data = await dataFetch.json();\r\n  return data;\r\n}\r\n\r\nfunction generatePictures(data) {\r\n  data.photos.forEach((photo) => {\r\n    const galleryImg = document.createElement(\"div\");\r\n    galleryImg.classList.add(\"gallery-img\");\r\n    galleryImg.innerHTML = `<img src=${photo.src.large}></img>\r\n        <div class=\"gallery-info\">\r\n        <p>${photo.photographer}</p>\r\n        <a href=${photo.src.original}>Download</a>\r\n        </div>\r\n        `;\r\n    gallery.appendChild(galleryImg);\r\n  });\r\n}\r\n\r\n//function that gets images\r\nasync function curatedPhotos() {\r\n    fetchLink = \"https://api.pexels.com/v1/curated?per_page=7&page=1\";\r\n  const data = await fetchApi(fetchLink);\r\n  generatePictures(data);\r\n}\r\n\r\nasync function searchPhotos(query) {\r\n    clear();\r\n    fetchLink = `https://api.pexels.com/v1/search?query=${query}+query&per_page=7&page=1`\r\n  const data = await fetchApi(fetchLink);\r\n  generatePictures(data);\r\n}\r\n\r\n//clearing text in input search\r\nfunction clear() {\r\n    gallery.innerHTML = \"\";\r\n    searchInput.value= \"\";\r\n}\r\n\r\n\r\nasync function loadMore(){\r\n    page++;\r\n    if(currentSearch){\r\n        fetchLink = `https://api.pexels.com/v1/search?query=${currentSearch}+query&per_page=7&page=${page}`\r\n    }else{\r\n        fetchLink = `https://api.pexels.com/v1/curated?per_page=7&page=${page}`\r\n    }\r\n    const data = await fetchApi(fetchLink);\r\n    generatePictures(data);\r\n}\r\n\r\ncuratedPhotos();\r\n"]}